<!DOCTYPE html>

<html lang="pt-br">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7297230407550504"
     crossorigin="anonymous"></script>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5V8F3ZKD');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="../../../Assets/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividade Adaptada.com</title>
    <link href="../../../css/style3.css" rel="stylesheet" />
</head>

<body>   
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V8F3ZKD"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <script src="../../../js/Pesquisa.js" defer></script>

     <div class="barratopo">
    <header>
    <div class="barra-topo-redes">
    <div class="botao-das-redes-topo">
    <a target="_blank" href="https://br.pinterest.com/AtividadeAdaptada/" ><img src="/Assets/Pinterest.AA.webp" class="botão-redes"></a>
    <a target="_blank" href="https://www.instagram.com/atividadeadaptada.com.br/"><img src="/Assets/Instagram.AA.webp" class="botão-redes"></a>
    <a target="_blank" href="https://www.youtube.com/@AtividadeAdaptada"><img src="/Assets/Youtube.AA.webp" class="botão-redes"></a>
    </div>
    <div class="logo-do-site-topo">
    <a href="/index.html"><img src="/Assets/logo AA.webp" class="logotopo"></a>
    </div>
    </div>
    </header>
    </div><!--barra do topo-->
    <div class="center">
    <div class="botao-das-redes">
    <a target="_blank" href="https://br.pinterest.com/AtividadeAdaptada/" ><img src="/Assets/Pinterest.AA.webp" class="botão-redes"></a>
    <a target="_blank" href="https://www.instagram.com/atividadeadaptada.com.br/"><img src="/Assets/Instagram.AA.webp" class="botão-redes"></a>
    <a target="_blank" href="https://www.youtube.com/@AtividadeAdaptada"><img src="/Assets/Youtube.AA.webp" class="botão-redes"></a>
    </div>
    <div class="logo-do-site">
    <a href="/index.html"><img src="/Assets/logo AA.webp" class="logotopo"></a>
    </div>
    </div><!--logo da pagina-->

    <nav class="menu">
    <input type="checkbox" id="menu-toggle">
    <label for="menu-toggle" class="menu-icon">&#9776;</label>
    <ul class="menu-list">
      <li><a href="/Nivel 2/1-pagina inicial/1-Paginas/Artigos.html"><strong>Artigos</strong></a></li>
      <li><a href="/Nivel 2/5-recortar e pintar/2-Pintura/Pintura.html"><strong>Desenhos</strong></a></li>
      <li><a href="/Nivel 2/2-BNCC/2-BNCC.html"><strong>Atividades</strong></a></li>
      <li><a href="/Nivel 2/5-recortar e pintar/1-Infantil/Infantil.html"><strong>Infantil</strong></a></li>
      <li><a href="/Nivel 2/4-Outras atividades/1-Raciocinio/Raciocinio.html"><strong>Raciocínio</strong></a></li>
      <li><a href="/Nivel 2/4-Outras atividades/2- Jogos de Tabuleiro/Jogos de tabuleiro.html"><strong>Jogos</strong></a></li>
      <li><a href="/Nivel 2/3-simulados/simulados.html"><strong>Simulados</strong></a></li>
      <li><a href="/Nivel 2/6-livros/livros.html"><strong>Livros</strong></a></li>
      <li><a href="/Nivel 2/7-lojinha/loja.html"><strong>Lojinha</strong></a></li>
    </ul>
  </nav>
    
    <main>
    <section>

<!-- Barra de pesquisa topo -->
    <div class="search-container">
    <form onsubmit="irParaResultadosTopo(); return false;">
    <div class="search-box">
    <input type="text" id="searchTopo" placeholder="Pesquisar..." autocomplete="off">
    <button type="submit" id="btnPesquisarTopo" title="Buscar">
    <span class="material-symbols-outlined">search</span>
    </button>
    </div>
    </form>
    </div>

    <div class="anuncio-container">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7297230407550504"
     crossorigin="anonymous"></script>
    <!-- Anuncio Principal -->
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7297230407550504"
     data-ad-slot="2603632519"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
    <script>
     (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    </div><!---espaçamento-->
    
<div class="resultados-container">
  <div class="resultados-titulo">Atividades</div>
  <div class="resultados-lista" id="listaResultados"></div>
  <div class="sem-resultado" id="semResultado" style="display:none;">Nenhuma atividade encontrada.</div>
</div>

<script>
// Carregar itens do JSON
fetch('../../../js/BNCC.json')
  .then(response => response.json())
  .then(dados => {
    const lista = document.getElementById('listaResultados');
    const semResultado = document.getElementById('semResultado');

    if (dados.length === 0) {
      semResultado.style.display = 'block';
      return;
    }

    dados.forEach(item => {
      const a = document.createElement('a');
      a.className = 'resultado-item';
      a.href = item.link;
      a.innerHTML = `
        <img src="${item.imagem}" alt="${item.titulo}" class="resultado-img">
        <div class="resultado-titulo-img">${item.titulo}</div>
      `;
      lista.appendChild(a);
    });
  })
  .catch(error => {
    console.error('Erro ao carregar JSON:', error);
    document.getElementById('semResultado').style.display = 'block';
  });
</script>

    </div>

<div><header></header><!---espaçamento--></div>
    </section>
    </main>
    </div>
<div><header></header><!---espaçamento--></div>

    <footer>
    <div class="barraFundoInfo">
        <div class="imagembarraFundoInfo">
        <img src="/Assets/logo AA.webp" class="logofundo">
        </div>
        <div class="textobarraFundoInfo3">
        <a>Atividades educativas e inclusivas para todos os estilos de aprendizagem. | atividadeadaptada.com.br</a>
        <a></a>
        </div>
        <div class="Containerfundo">
        <div class="textobarraFundoInfo"> 
        <h4>Navegue</h4>
        <a href="/index.html">Inicio</a>
        <a href="/Nivel 2/2-BNCC/2-BNCC.html">Atividades</a>
        <a href="/Nivel 2/5-recortar e pintar/2-Pintura/Pintura.html">Pintura</a>
        </div>
        <div class="textobarraFundoInfo"> 
        <h4>Ajuda</h4>
        <a href="/Nivel 2/6-Quem Somos.html">Quem Somos</a>
        <a href="/Nivel 2/6-Quem Somos.html">Como ajudar</a>
        <a></a>
        </div>
        </div>
    </div>
    <div><header></header><!---espaçamento--></div>
    </footer>

<!-- Scripts Firebase para verificar login -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDmMuftAqoUBEoGHXtV0C_SZVHp5KmdNn4",
            authDomain: "atividadeadaptada.firebaseapp.com",
            projectId: "atividadeadaptada",
            storageBucket: "atividadeadaptada.firebasestorage.app",
            messagingSenderId: "37982590936",
            appId: "1:37982590936:web:f0bd7b5c5dd208e26a84ad"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Aguardar DOM carregar
        document.addEventListener('DOMContentLoaded', () => {
            onAuthStateChanged(auth, async (user) => {
                const desktopBtn = document.getElementById('login-btn-desktop');
                const mobileBtn = document.getElementById('login-btn-mobile');

                if (!desktopBtn || !mobileBtn) {
                    console.error('Botões não encontrados!');
                    return;
                }

                if (user) {
                    // Usuário logado: substituir por inicial do nome (rápido)
                    const initial = (user.displayName || user.email || 'U').charAt(0).toUpperCase();
                    const svg = `<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" fill="#3B82F6"/><text x="20" y="25" font-family="Arial" font-size="16" fill="white" text-anchor="middle">${initial}</text></svg>`;
                    const photoURL = `data:image/svg+xml;base64,${btoa(svg)}`;

                    // Substituir desktop
                    const desktopLink = document.createElement('a');
                    desktopLink.href = 'usuario.html';
                    desktopLink.className = 'hidden md:block';
                    desktopLink.innerHTML = `<img src="${photoURL}" class="w-10 h-10 rounded-full border-2 border-orange-500" alt="Perfil">`;
                    desktopBtn.parentNode.replaceChild(desktopLink, desktopBtn);

                    // Substituir mobile
                    const mobileLink = document.createElement('a');
                    mobileLink.href = 'usuario.html';
                    mobileLink.className = 'block mt-4';
                    mobileLink.innerHTML = `<img src="${photoURL}" class="w-10 h-10 rounded-full border-2 border-orange-500 mx-auto" alt="Perfil">`;
                    mobileBtn.parentNode.replaceChild(mobileLink, mobileBtn);

                    // Opcional: tentar atualizar com foto do Firestore em background (sem bloquear)
                    setTimeout(async () => {
                        try {
                            const profileRef = doc(db, 'users', user.uid);
                            const profileSnap = await getDoc(profileRef);
                            if (profileSnap.exists() && profileSnap.data().photoURL) {
                                const newPhotoURL = profileSnap.data().photoURL;
                                // Atualizar as imagens existentes
                                const desktopImg = desktopLink.querySelector('img');
                                const mobileImg = mobileLink.querySelector('img');
                                if (desktopImg) desktopImg.src = newPhotoURL;
                                if (mobileImg) mobileImg.src = newPhotoURL;
                            }
                        } catch (error) {
                            console.error('Erro ao buscar foto do Firestore:', error);
                        }
                    }, 100); // Pequeno delay para não interferir
                } else {
                    // Usuário não logado: manter como está
                }
            });
        });
    </script><!--Fim da Pagina-->

    <!-- Botão flutuante -->
    <button id="btnFlutuantePesquisa" class="btn-flutuante-pesquisa" title="Pesquisar">
      <span class="material-symbols-outlined">search</span>
    </button>

    <!-- Overlay de pesquisa -->
    <div id="overlayPesquisa" class="overlay-pesquisa">
      <form onsubmit="irParaResultadosOverlay(); return false;">
        <div class="search-box search-box-mobile">
          <input type="text" id="searchOverlay" placeholder="Pesquisar..." autocomplete="off">
          <button type="submit" id="btnPesquisarOverlay" title="Buscar">
            <span class="material-symbols-outlined">search</span>
          </button>
        </div>
      </form>
    </div>

</body>
</html>


